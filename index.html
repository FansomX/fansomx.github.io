<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fan Xiao | Medical Physics · AI</title>
<meta name="theme-color" content="#0a192f">
<link rel="icon" href="assets/FX.svg" type="image/svg+xml">
<style>
:root{--dark:#0a192f;--navy2:#233554;--slate:#8892b0;--slate2:#a8b2d1;--slate3:#ccd6f6;--white:#e6f1ff;--acc:#64ffda;--violet:#a78bfa;--photon:#4ade80;--electron:#f59e0b;--neutron:#ec4899}
html{scroll-behavior:smooth}
body{margin:0;background:var(--dark);color:var(--slate);font:16px/1.7 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;overflow-x:hidden}

/* 顶部进度条 - 增强发光效果 */
#progress{position:fixed;top:0;left:0;height:3px;width:0;background:linear-gradient(90deg,var(--photon),var(--acc));z-index:9999;box-shadow:0 0 8px rgba(100,255,218,.6)}

/* 射束粒子系统 */
.particle-field{position:fixed;inset:0;z-index:-5;pointer-events:none;overflow:hidden}
.beam-particle{position:absolute;border-radius:50%;pointer-events:none;
  box-shadow:0 0 3px currentColor;opacity:0}

/* 光子：快速直线运动 */
.photon{background:var(--photon);width:2px;height:2px;
  animation:photon-beam 8s linear infinite}
@keyframes photon-beam{
  0%{transform:translate(-50px,-50px) scale(0);opacity:0}
  5%{opacity:0.8;transform:scale(1)}
  95%{opacity:0.8}
  100%{transform:translate(calc(100vw + 50px),calc(100vh + 50px)) scale(0);opacity:0}
}

/* 电子：螺旋轨迹 */
.electron{background:var(--electron);width:2.5px;height:2.5px;
  animation:electron-spiral 12s ease-in-out infinite}
@keyframes electron-spiral{
  0%{transform:translate(0,100vh) rotate(0deg);opacity:0}
  10%{opacity:0.6}
  50%{transform:translate(50vw,50vh) rotate(1440deg);opacity:0.8}
  90%{opacity:0.6}
  100%{transform:translate(100vw,0) rotate(2880deg);opacity:0}
}

/* 中子：散射路径 */
.neutron{background:var(--neutron);width:2px;height:2px;
  animation:neutron-scatter 10s linear infinite}
@keyframes neutron-scatter{
  0%{transform:translate(50vw,-20px);opacity:0}
  15%{opacity:0.7;transform:translate(45vw,25vh)}
  30%{transform:translate(75vw,30vh)}
  45%{transform:translate(25vw,60vh)}
  60%{transform:translate(80vw,75vh)}
  75%{transform:translate(30vw,85vh)}
  90%{opacity:0.7}
  100%{transform:translate(50vw,calc(100vh + 20px));opacity:0}
}

/* 射束路径装饰 */
.beam-path{position:fixed;left:0;top:50%;width:100%;height:1px;z-index:-4;
  background:linear-gradient(90deg,transparent,rgba(74,222,128,.15),transparent);
  animation:beam-sweep 15s ease-in-out infinite}
@keyframes beam-sweep{
  0%{transform:translateY(-40vh) scaleX(0);opacity:0}
  25%{transform:translateY(-20vh) scaleX(1);opacity:1}
  50%{transform:translateY(0) scaleX(1);opacity:1}
  75%{transform:translateY(20vh) scaleX(1);opacity:1}
  100%{transform:translateY(40vh) scaleX(0);opacity:0}
}

/* 剂量热图 - 更subtle */
.dose-heatmap{position:fixed;inset:0;z-index:-6;
  background:
    radial-gradient(circle at 25% 30%, rgba(74,222,128,0.02), transparent 50%),
    radial-gradient(circle at 75% 70%, rgba(100,255,218,0.015), transparent 50%);
  animation:dose-pulse 12s ease-in-out infinite alternate}
@keyframes dose-pulse{
  0%{opacity:0.3;transform:scale(0.98)}
  100%{opacity:0.6;transform:scale(1.02)}
}

/* 网格增强 - 更细腻的网格效果 */
.bg-grid{position:fixed;inset:0;z-index:-2;background:
 linear-gradient(transparent 96%, rgba(255,255,255,.03) 96%),
 linear-gradient(90deg, transparent 96%, rgba(255,255,255,.03) 96%);
background-size:32px 32px;opacity:.4;
mask-image: radial-gradient(70vmax 70vmax at 50% 50%, #000 50%, transparent 100%)}

/* 环境光晕 */
.ambient-glow{position:fixed;inset:-30%;z-index:-7;
  background:
    radial-gradient(40vmax 40vmax at 20% 25%, rgba(100,255,218,.04), transparent),
    radial-gradient(35vmax 35vmax at 80% 75%, rgba(167,139,250,.03), transparent);
  animation:ambient-float 20s ease-in-out infinite alternate}
@keyframes ambient-float{
  0%{transform:translate3d(0,0,0) rotate(0deg)}
  100%{transform:translate3d(2%,-2%,0) rotate(1deg)}
}

/* 布局：左侧固定，右侧滚动 */
.left{
  position:fixed; top:0; left:0; height:100vh; width:420px;
  padding:36px 32px; box-sizing:border-box;
  display:flex; flex-direction:column; gap:14px;
  background:linear-gradient(135deg,rgba(255,255,255,.04),rgba(255,255,255,.01));
  border-right:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(10px)
}
.right{
  margin-left:420px;
  padding:48px 60px; box-sizing:border-box; max-width:1000px
}

/* 左侧元素增强 */
h1{color:var(--white);font-size:40px;margin:0;
  text-shadow:0 0 20px rgba(100,255,218,.2)}
h2{margin:2px 0 0;font-size:20px;background:linear-gradient(90deg,var(--slate3),var(--acc));
    -webkit-background-clip:text;-webkit-text-fill-color:transparent}
.avatar{width:96px;height:96px;border-radius:50%;object-fit:cover;
  border:2px solid var(--navy2);margin:8px 0;
  box-shadow:0 0 0 3px rgba(100,255,218,.1), 0 4px 12px -6px rgba(0,0,0,.5);
  transition:all .3s ease}
.avatar:hover{transform:scale(1.03);
  box-shadow:0 0 0 4px rgba(100,255,218,.2), 0 8px 24px -8px rgba(0,0,0,.7)}
.subtitle{margin:6px 0 0;max-width:360px;position:relative}
.subtitle::before{content:"";position:absolute;left:-16px;top:2px;width:2px;height:calc(100% - 4px);
  background:linear-gradient(180deg,var(--photon),var(--acc));border-radius:1px;opacity:0.6}

.dose-indicator{position:absolute;top:20px;right:20px;width:80px;height:4px;
  background:linear-gradient(90deg,#22c55e,#eab308,#ef4444);border-radius:2px;opacity:.6;
  box-shadow:0 0 4px rgba(34,197,94,.3)}

/* 社交按钮增强玻璃效果 */
.social{list-style:none;padding:0;margin:10px 0 0;display:flex;gap:10px;flex-wrap:wrap}
a{color:var(--acc);text-decoration:none;position:relative}
a::after{content:"";position:absolute;left:0;bottom:-2px;height:2px;width:100%;
  background:linear-gradient(90deg,var(--acc),var(--violet));transform:scaleX(0);transform-origin:left;transition:transform .2s}
a:hover::after{transform:scaleX(1)}
.chip{padding:8px 14px;border-radius:999px;
  background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.18);color:var(--slate3);
  backdrop-filter:blur(8px);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 4px 12px -8px rgba(0,0,0,.3);
  transition:all .25s ease;position:relative;overflow:hidden}
.chip::before{content:"";position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(100,255,218,.05),rgba(167,139,250,.05));
  opacity:0;transition:opacity .25s ease}
.chip:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.3);
  box-shadow:0 6px 20px -8px rgba(0,0,0,.5);color:var(--white)}
.chip:hover::before{opacity:1}

/* 右侧内容增强 */
section{margin:80px 0}
.title{font-size:22px;color:var(--slate3);margin:0 0 20px;display:flex;gap:10px;align-items:center;
  position:relative}
.title::before{content:attr(data-no) ".";color:var(--acc);
  font:600 16px "SF Mono","Fira Code",monospace;
  text-shadow:0 0 6px rgba(100,255,218,.4)}
.title::after{content:"";position:absolute;right:0;top:50%;width:80px;height:1px;
  background:linear-gradient(90deg,var(--acc),transparent);transform:translateY(-50%)}

.card{background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:20px;margin:14px 0;
  backdrop-filter:blur(8px);
  box-shadow:0 4px 16px -8px rgba(2,12,27,.4), inset 0 1px 0 rgba(255,255,255,.08);
  transition:all .3s ease;position:relative;overflow:hidden}
.card::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--acc),transparent);opacity:0;
  transition:opacity .3s ease}
.card:hover{transform:translateY(-3px);border-color:rgba(255,255,255,.25);
  box-shadow:0 12px 32px -12px rgba(2,12,27,.6), 0 0 0 1px rgba(100,255,218,.1)}
.card:hover::before{opacity:1}
.card h3{margin:0 0 8px;color:var(--white);font-size:18px}
.card h3 a{background:linear-gradient(90deg,var(--white),var(--acc));
  background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.muted{color:var(--slate2);font:14px "SF Mono","Fira Code",monospace}

footer{margin:80px 0 40px;color:var(--slate2);font:12px "SF Mono","Fira Code",monospace;text-align:left;
  border-top:1px solid rgba(255,255,255,.08);padding-top:20px}

/* 返回顶部增强 */
.to-top{position:fixed;right:20px;bottom:20px;opacity:0;pointer-events:none;
  background:rgba(255,255,255,.1);color:var(--slate3);border:1px solid rgba(255,255,255,.2);
  padding:10px 12px;border-radius:10px;backdrop-filter:blur(12px);
  transition:all .3s ease;transform:translateY(8px) scale(0.9)}
.to-top.show{opacity:1;pointer-events:auto;transform:none}
.to-top:hover{transform:translateY(-2px);color:var(--acc);
  box-shadow:0 6px 20px -8px rgba(0,0,0,.5)}

/* 响应式 */
@media (max-width:1080px){
  .left{position:static;width:auto;height:auto;border-right:0}
  .right{margin-left:0;padding:32px 20px}
  .particle-field,.beam-path{display:none}
}

/* 减少动画偏好 */
@media (prefers-reduced-motion:reduce){
  *{animation:none !important;transition:none !important}
  .beam-particle{display:none}
}
</style>
</head>
<body>
<div id="progress"></div>
<div class="particle-field" id="particles"></div>
<div class="beam-path"></div>
<div class="dose-heatmap"></div>
<div class="ambient-glow"></div>
<div class="bg-grid"></div>

<!-- 左侧固定栏 -->
<aside class="left">
  <div style="position:relative">
    <h1>Fan Xiao</h1>
    <h2>PhD student in Medical Physics</h2>
    <img src="assets/Fan.jpeg" alt="Fan Xiao" class="avatar">
    <div class="dose-indicator"></div>
  </div>
  <p class="subtitle">I'm a Phd student from LMU Munich. My research interests: AI dose calculation, MR-guided photon therapy, proton therapy.</p>
  <ul class="social">
    <li><a class="chip" href="https://lmu-art-lab.userweb.mwn.de/author/fan-xiao/" target="_blank">Lab</a></li>
    <li><a class="chip" href="https://scholar.google.de/citations?hl=de&pli=1&user=jhjXYpMAAAAJ" target="_blank">Scholar</a></li>
    <li><a class="chip" href="https://github.com/FansomX" target="_blank">GitHub</a></li>
    <li><a class="chip" id="copyMail">Email</a></li>
  </ul>
  <small id="toast" style="opacity:0;transition:opacity .2s;color:var(--slate2);margin-top:4px">已复制邮箱地址 ✓</small>
</aside>

<!-- 右侧滚动区 -->
<main class="right">
  <section id="projects">
    <h3 class="title" data-no="01">项目 (Projects)</h3>
    <article class="card">
      <h3><a href="https://github.com/FansomX/conv-lstm-bev-dose" target="_blank">ConvLSTM BEV Dose Prediction</a></h3>
      <p>从 BEV 预测 3D 剂量。ConvLSTM 捕获时空特征，实现快速准确。</p>
      <p class="muted">PyTorch · CuPy · CUDA</p>
    </article>
    <article class="card">
      <h3><a href="https://github.com/FansomX/geant4-segment-sim" target="_blank">Geant4 Segment Simulator</a></h3>
      <p>光子段蒙特卡洛模拟与剂量累积。</p>
      <p class="muted">C++ · Geant4 · ITK</p>
    </article>
    <article class="card">
      <h3><a href="https://github.com/FansomX/online-art-pipeline" target="_blank">Adaptive ART Pipeline</a></h3>
      <p>面向在线 ART 的毫秒级内核与管道。</p>
      <p class="muted">CUDA · HPC</p>
    </article>
  </section>

  <section id="publications">
    <h3 class="title" data-no="02">出版物 (Publications)</h3>
    <div class="card">
      <h3><a href="#" target="_blank">Unified comparative protocol for photon segment dose prediction</a></h3>
      <p>统一比较协议，标准化评估段剂量预测。</p>
      <p class="muted">Physica Medica, 2025 (under review)</p>
    </div>
    <div class="card">
      <h3><a href="#" target="_blank">Millisecond kernels for adaptive radiotherapy</a></h3>
      <p>毫秒级计算核心，提升在线计划效率。</p>
      <p class="muted">Medical Physics, 2024</p>
    </div>
  </section>

  <footer>© <span id="y"></span> Fan Xiao · Munich </footer>
</main>

<a href="#top" class="to-top" id="toTop">↑ Top</a>

<script>
document.getElementById('y').textContent=new Date().getFullYear();

// 射束粒子系统
function initBeamParticles() {
  const container = document.getElementById('particles');
  const particleTypes = [
    {name: 'photon', weight: 0.5},
    {name: 'electron', weight: 0.3},
    {name: 'neutron', weight: 0.2}
  ];
  
  function createParticle() {
    // 加权随机选择粒子类型
    const random = Math.random();
    let cumWeight = 0;
    let selectedType = 'photon';
    
    for (const type of particleTypes) {
      cumWeight += type.weight;
      if (random <= cumWeight) {
        selectedType = type.name;
        break;
      }
    }
    
    const particle = document.createElement('div');
    particle.className = `beam-particle ${selectedType}`;
    
    // 随机起始位置
    if (selectedType === 'photon') {
      particle.style.left = `${Math.random() * -100}px`;
      particle.style.top = `${Math.random() * -100}px`;
    } else if (selectedType === 'electron') {
      particle.style.left = `${Math.random() * 50}px`;
      particle.style.top = '100vh';
    } else { // neutron
      particle.style.left = '50vw';
      particle.style.top = `${Math.random() * -50}px`;
    }
    
    // 随机动画延迟
    particle.style.animationDelay = `${Math.random() * 3}s`;
    
    container.appendChild(particle);
    
    // 粒子自动清理
    const duration = selectedType === 'electron' ? 12000 : 
                    selectedType === 'photon' ? 8000 : 10000;
    setTimeout(() => {
      if (particle.parentNode) {
        particle.remove();
      }
    }, duration + 3000);
  }
  
  // 持续生成粒子
  setInterval(() => {
    if (Math.random() < 0.6) { // 60%概率生成
      createParticle();
    }
  }, 1500);
  
  // 初始粒子
  for (let i = 0; i < 5; i++) {
    setTimeout(() => createParticle(), i * 800);
  }
}

// 延迟启动粒子系统
setTimeout(initBeamParticles, 800);

/* 进度条与返回顶部 */
addEventListener('scroll',()=>{
  const h=document.documentElement;
  const p=100*h.scrollTop/(h.scrollHeight-h.clientHeight);
  document.getElementById('progress').style.width=p+'%';
  const btn=document.getElementById('toTop'); 
  if(p>10)btn.classList.add('show'); else btn.classList.remove('show');
},{passive:true});

/* 复制邮箱 */
document.getElementById('copyMail')?.addEventListener('click',e=>{
  e.preventDefault();
  const mail='Fan.Xiao@med.uni-muenchen.de';
  try{navigator.clipboard.writeText(mail);}catch{}
  const t=document.getElementById('toast'); 
  t.style.opacity=1; 
  setTimeout(()=>t.style.opacity=0,1800);
});

// 页面可见性优化
document.addEventListener('visibilitychange', () => {
  const particles = document.querySelectorAll('.beam-particle');
  particles.forEach(p => {
    p.style.animationPlayState = document.hidden ? 'paused' : 'running';
  });
});
</script>
</body>
</html>
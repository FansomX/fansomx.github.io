<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fan Xiao | Medical Physics · AI</title>
<meta name="theme-color" content="#0a192f">
<link rel="icon" href="assets/FX.svg" type="image/svg+xml">
<style>
:root{
  --dark:#0a192f;--navy2:#233554;--slate:#8892b0;--slate2:#a8b2d1;--slate3:#ccd6f6;
  --white:#e6f1ff;--acc:#64ffda;--violet:#a78bfa;--photon:#4ade80
}
html{scroll-behavior:smooth}
body{margin:0;background:var(--dark);color:var(--slate);font:16px/1.7 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;overflow-x:hidden}

/* 顶部进度条：流光 */
#progress{
  position:fixed;top:0;left:0;height:3px;width:0;z-index:9999;
  background:linear-gradient(90deg,var(--photon),var(--acc),var(--violet));
  filter:drop-shadow(0 0 6px rgba(100,255,218,.6));
  transition:width .08s linear
}

/* 背景：网格 + 径向光晕 + 细噪声 */
.bg-grid{position:fixed;inset:0;z-index:-3;background:
  linear-gradient(transparent 95%, rgba(255,255,255,.04) 95%),
  linear-gradient(90deg, transparent 95%, rgba(255,255,255,.04) 95%);
  background-size:24px 24px;opacity:.35}
.bg-glow{position:fixed;inset:-20% -20% auto auto;z-index:-4;pointer-events:none;
  background:
    radial-gradient(600px 600px at 20% 20%, rgba(100,255,218,.18) 0%, rgba(100,255,218,0) 60%),
    radial-gradient(500px 500px at 85% 15%, rgba(167,139,250,.12) 0%, rgba(167,139,250,0) 60%),
    radial-gradient(700px 700px at 50% 90%, rgba(74,222,128,.10) 0%, rgba(74,222,128,0) 60%);
  width:100%;height:100%}
.bg-noise{position:fixed;inset:0;z-index:-2;pointer-events:none;opacity:.06;mix-blend:overlay;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');
  background-size:240px 240px;animation:nz 6s steps(6) infinite}
@keyframes nz{to{transform:translate3d(0,0,0) scale(1.01)}}

/* 布局：左侧固定，右侧滚动 */
.left{
  position:fixed; top:0; left:0; height:100vh; width:420px;
  padding:36px 32px; box-sizing:border-box;
  display:flex; flex-direction:column; gap:14px;
  background:linear-gradient(135deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
  border-right:1px solid rgba(255,255,255,.08);
  backdrop-filter:saturate(120%) blur(6px)
}
.right{ margin-left:420px; padding:48px 60px; box-sizing:border-box; max-width:1000px}

/* 左侧元素 + 动效 */
h1{color:var(--white);font-size:40px;margin:0;position:relative}
h1::after{
  content:""; position:absolute; inset:0 0 -4px 0; height:1.6em;
  background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.4) 40%,transparent 60%);
  transform:translateX(-120%); filter:blur(1px); pointer-events:none
}
h1.shine::after{animation:shine 2.2s ease-in-out 1}
@keyframes shine{to{transform:translateX(120%)}}

h2{margin:2px 0 0;font-size:20px;background:linear-gradient(90deg,var(--slate3),var(--acc));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent}
.avatar{
  width:96px;height:96px;border-radius:50%;object-fit:cover;border:2px solid var(--navy2);margin:8px 0;
  transform:translateZ(0); will-change:transform
}
.subtitle{margin:6px 0 0;max-width:360px}
.dose-indicator{position:absolute;top:20px;right:20px;width:84px;height:4px;border-radius:2px;opacity:.7;
  background:linear-gradient(90deg,#22c55e,#eab308,#ef4444);
  box-shadow:0 0 10px rgba(100,255,218,.25)}

/* 社交按钮：磁吸 */
.social{list-style:none;padding:0;margin:10px 0 0;display:flex;gap:10px;flex-wrap:wrap}
a{color:var(--acc);text-decoration:none;position:relative}
a::after{content:"";position:absolute;left:0;bottom:-2px;height:2px;width:100%;
  background:linear-gradient(90deg,var(--acc),var(--violet));transform:scaleX(0);transform-origin:left;transition:transform .2s}
a:hover::after{transform:scaleX(1)}
.chip{
  padding:8px 14px;border-radius:999px;background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.15);color:var(--slate3);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease; will-change:transform
}
.chip.magnet{transform:translate(var(--mx,0), var(--my,0)) scale(1.02);
  border-color:rgba(100,255,218,.6); box-shadow:0 6px 18px rgba(0,0,0,.28), 0 0 14px rgba(100,255,218,.25)}

/* 右侧内容 */
section{margin:80px 0}
.title{font-size:22px;color:var(--slate3);margin:0 0 20px;display:flex;gap:10px;align-items:center;will-change:transform}
.title::before{content:attr(data-no) ".";color:var(--acc);font:600 16px "SF Mono","Fira Code",monospace}

/* 卡片：3D-tilt + 霓虹边 + 细噪声覆盖 */
.card{
  position:relative; background:linear-gradient(135deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:20px; margin:16px 0;
  transform-style:preserve-3d; transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  will-change:transform
}
.card::before{
  content:""; position:absolute; inset:-1px; border-radius:17px; pointer-events:none;
  background:conic-gradient(from 180deg at 50% 50%, rgba(100,255,218,.0), rgba(100,255,218,.4), rgba(167,139,250,.4), rgba(100,255,218,.0));
  filter:blur(12px); opacity:.0; transition:opacity .2s ease
}
.card::after{
  content:""; position:absolute; inset:0; border-radius:16px; pointer-events:none; opacity:.06; mix-blend:overlay;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".7" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>')
}
.card:hover{ box-shadow:0 14px 40px rgba(0,0,0,.35), 0 0 24px rgba(100,255,218,.18); border-color:rgba(255,255,255,.22)}
.card:hover::before{ opacity:.85}
.card h3{margin:0 0 8px;color:var(--white);font-size:18px}
.muted{color:var(--slate2);font:14px "SF Mono","Fira Code",monospace}

footer{margin:80px 0 40px;color:var(--slate2);font:12px "SF Mono","Fira Code",monospace;text-align:left}

/* 返回顶部 */
.to-top{position:fixed;right:20px;bottom:20px;opacity:0;pointer-events:none;background:rgba(255,255,255,.08);color:var(--slate3);
  border:1px solid rgba(255,255,255,.2);padding:10px 12px;border-radius:10px;backdrop-filter:blur(4px);transition:opacity .15s}
.to-top.show{opacity:1;pointer-events:auto}

/* 滚动揭示 */
.reveal{opacity:0; transform:translateY(14px); transition:opacity .4s ease, transform .4s ease}
.reveal.on{opacity:1; transform:none}

/* 光标脉冲圈 */
.cursor-ring{
  position:fixed; left:0; top:0; width:16px; height:16px; border-radius:50%;
  border:2px solid rgba(100,255,218,.6); pointer-events:none; transform:translate(-50%,-50%);
  mix-blend:screen; z-index:9998; opacity:.0; transition:opacity .2s ease
}
.cursor-ring.show{opacity:.9}

/* 响应式 */
@media (max-width:1080px){
  .left{position:static;width:auto;height:auto;border-right:0}
  .right{margin-left:0;padding:32px 20px}
}
</style>
</head>
<body>
<div id="progress"></div>
<div class="bg-grid"></div>
<div class="bg-glow"></div>
<div class="bg-noise"></div>
<div class="cursor-ring" id="ring"></div>

<!-- 左侧固定栏 -->
<aside class="left">
  <div style="position:relative" id="hero">
    <h1 id="name">Fan Xiao</h1>
    <h2>PhD student in Medical Physics</h2>
    <img src="assets/Fan.jpeg" alt="Fan Xiao" class="avatar" id="avt">
    <div class="dose-indicator"></div>
  </div>
  <p class="subtitle">I'm a Phd student from LMU Munich. My research interests: AI dose calculation, MR-guided photon therapy, proton therapy.</p>
  <ul class="social">
    <li><a class="chip" href="https://lmu-art-lab.userweb.mwn.de/author/fan-xiao/" target="_blank">Lab</a></li>
    <li><a class="chip" href="https://scholar.google.de/citations?hl=de&pli=1&user=jhjXYpMAAAAJ" target="_blank">Scholar</a></li>
    <li><a class="chip" href="https://github.com/FansomX" target="_blank">GitHub</a></li>
    <li><a class="chip" id="copyMail">Email</a></li>
  </ul>
  <small id="toast" style="opacity:0;transition:opacity .2s;color:var(--slate2);margin-top:4px">已复制邮箱地址 ✓</small>
</aside>

<!-- 右侧滚动区 -->
<main class="right">
  <section id="projects" class="reveal">
    <h3 class="title" data-no="01">项目 (Projects)</h3>
    <article class="card tilt">
      <h3><a href="https://github.com/FansomX/conv-lstm-bev-dose" target="_blank">ConvLSTM BEV Dose Prediction</a></h3>
      <p>从 BEV 预测 3D 剂量。ConvLSTM 捕获时空特征，实现快速准确。</p>
      <p class="muted">PyTorch · CuPy · CUDA</p>
    </article>
    <article class="card tilt">
      <h3><a href="https://github.com/FansomX/geant4-segment-sim" target="_blank">Geant4 Segment Simulator</a></h3>
      <p>光子段蒙特卡洛模拟与剂量累积。</p>
      <p class="muted">C++ · Geant4 · ITK</p>
    </article>
    <article class="card tilt">
      <h3><a href="https://github.com/FansomX/online-art-pipeline" target="_blank">Adaptive ART Pipeline</a></h3>
      <p>面向在线 ART 的毫秒级内核与管道。</p>
      <p class="muted">CUDA · HPC</p>
    </article>
  </section>

  <section id="publications" class="reveal">
    <h3 class="title" data-no="02">出版物 (Publications)</h3>
    <div class="card tilt">
      <h3><a href="#" target="_blank">Unified comparative protocol for photon segment dose prediction</a></h3>
      <p>统一比较协议，标准化评估段剂量预测。</p>
      <p class="muted">Physica Medica, 2025 (under review)</p>
    </div>
    <div class="card tilt">
      <h3><a href="#" target="_blank">Millisecond kernels for adaptive radiotherapy</a></h3>
      <p>毫秒级计算核心，提升在线计划效率。</p>
      <p class="muted">Medical Physics, 2024</p>
    </div>
  </section>

  <footer>© <span id="y"></span> Fan Xiao · Munich </footer>
</main>

<a href="#top" class="to-top" id="toTop">↑ Top</a>

<script>
/* 年份 */
document.getElementById('y').textContent=new Date().getFullYear();

/* 进度条 + 返回顶部 */
addEventListener('scroll',()=>{
  const h=document.documentElement;
  const p=100*h.scrollTop/(h.scrollHeight-h.clientHeight);
  document.getElementById('progress').style.width=p+'%';
  const btn=document.getElementById('toTop'); if(p>10)btn.classList.add('show'); else btn.classList.remove('show');
},{passive:true});

/* 复制邮箱 */
document.getElementById('copyMail')?.addEventListener('click',e=>{
  e.preventDefault(); const mail='Fan.Xiao@med.uni-muenchen.de';
  try{navigator.clipboard.writeText(mail);}catch{}
  const t=document.getElementById('toast'); t.style.opacity=1; setTimeout(()=>t.style.opacity=0,1600);
});

/* 标题扫光一次 */
addEventListener('load',()=>document.getElementById('name').classList.add('shine'));

/* 滚动揭示 */
const io=new IntersectionObserver(es=>{
  es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('on'); io.unobserve(e.target);}})
},{rootMargin:"-10% 0px -5% 0px",threshold:.1});
document.querySelectorAll('.reveal').forEach(n=>io.observe(n));

/* 3D Tilt 卡片 */
for(const card of document.querySelectorAll('.tilt')){
  card.addEventListener('mousemove',e=>{
    const r=card.getBoundingClientRect(), x=e.clientX-r.left, y=e.clientY-r.top;
    const rx=((y/r.height)-.5)*-8, ry=((x/r.width)-.5)*8;
    card.style.transform=`perspective(800px) rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0)`;
  });
  card.addEventListener('mouseleave',()=>card.style.transform='');
}

/* 芯片磁吸 */
for(const c of document.querySelectorAll('.chip')){
  c.addEventListener('mousemove',e=>{
    const r=c.getBoundingClientRect(), x=e.clientX-(r.left+r.width/2), y=e.clientY-(r.top+r.height/2);
    c.style.setProperty('--mx', (x*0.06)+'px'); c.style.setProperty('--my',(y*0.06)+'px'); c.classList.add('magnet');
  });
  c.addEventListener('mouseleave',()=>{c.style.setProperty('--mx','0px'); c.style.setProperty('--my','0px'); c.classList.remove('magnet');});
}

// 轻视差：头像与标题
const hero=document.getElementById('hero');
const avt=document.getElementById('avt');
const tEls=document.querySelectorAll('.title');

const AVATAR_PARALLAX = 0;   // ← 0=禁用头像位移，想要极轻微可改成 0.1

addEventListener('scroll', ()=>{
  const y=scrollY*0.06;
  hero.style.transform=`translateY(${y}px)`;
  avt.style.transform=`translateY(${y*AVATAR_PARALLAX}px)`; // ← 不再动
  tEls.forEach((t,i)=>{
    t.style.transform=`translateY(${Math.max(0,(scrollY-200*(i+1))*.02)}px)`;
  });
},{passive:true});

/* 光标脉冲圈 */
const ring=document.getElementById('ring'); let hideT=null;
addEventListener('mousemove',e=>{
  ring.style.left=e.clientX+'px'; ring.style.top=e.clientY+'px'; ring.classList.add('show');
  clearTimeout(hideT); hideT=setTimeout(()=>ring.classList.remove('show'),800);
});
addEventListener('mousedown',()=>{ring.style.transform+=' scale(0.85)'; setTimeout(()=>ring.style.transform='translate(-50%,-50%)',120);});
</script>
</body>
</html>
